<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Delivery - GPS & Maps</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap');
        body { font-family: 'Cairo', sans-serif; background-color: #f3f4f6; }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* ØªØ®ØµÙŠØµ Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ Ø¨Ø§Ø± */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 3px; }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        
        // 1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø£Ø¶ÙÙ†Ø§ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª lat/lng Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ÙÙŠ Ø§Ù„Ø±Ø¨Ø§Ø·/Ø³Ù„Ø§)
        const initialOrders = [
            { id: 101, customer: "Ø£Ø­Ù…Ø¯ Ø¨Ù†Ø§Ù†ÙŠ", phone: "0661123456", address: "Ø­ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…ØŒ Ø³Ù„Ø§", price: 150, status: "pending", driver: "", lat: 34.0506, lng: -6.7894 },
            { id: 102, customer: "Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠ", phone: "0661987654", address: "Ø£ÙƒØ¯Ø§Ù„ØŒ Ø§Ù„Ø±Ø¨Ø§Ø·", price: 300, status: "pending", driver: "", lat: 34.0084, lng: -6.8530 },
            { id: 103, customer: "ÙƒØ±ÙŠÙ… Ø§Ù„ØªØ§Ø²ÙŠ", phone: "0661000000", address: "Ø­ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø±Ø¨Ø§Ø·", price: 120, status: "delivered", driver: "Ø¹Ù…Ø±", lat: 33.9716, lng: -6.8498 },
            { id: 104, customer: "Ù…Ù†Ù‰ Ø§Ù„Ø´Ø§ÙˆÙŠ", phone: "0661112233", address: "ØªØ§Ø¨Ø±ÙŠÙƒØªØŒ Ø³Ù„Ø§", price: 200, status: "pending", driver: "", lat: 34.0350, lng: -6.8100 },
            { id: 105, customer: "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ", phone: "0661445566", address: "Ø§Ù„Ù…Ø­ÙŠØ·ØŒ Ø§Ù„Ø±Ø¨Ø§Ø·", price: 450, status: "pending", driver: "", lat: 34.0200, lng: -6.8600 },
        ];

        const driversList = ["Ø¹Ù…Ø±", "Ø®Ø§Ù„Ø¯", "ÙŠØ§Ø³ÙŠÙ†"];

        // Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…ÙˆØ²Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ù…Ø«Ù„Ø§Ù‹ ÙˆØ³Ø· Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)
        const DRIVER_CURRENT_LOCATION = { lat: 34.0150, lng: -6.8300 };

        function SmartDeliveryApp() {
            const [orders, setOrders] = React.useState(initialOrders);
            const [view, setView] = React.useState('admin'); 
            const [currentDriver, setCurrentDriver] = React.useState('Ø¹Ù…Ø±');

            // --- ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ù†ÙˆØ§ÙØ° (Modals) ---
            const [showOtpModal, setShowOtpModal] = React.useState(false);
            const [showContactModal, setShowContactModal] = React.useState(false); // Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            
            const [selectedOrder, setSelectedOrder] = React.useState(null); // Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø®ØªØ§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹ Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª
            const [otpInput, setOtpInput] = React.useState("");
            const [generatedCode, setGeneratedCode] = React.useState("");

            // --- Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ---
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© (Haversine Formula - Ù…Ø¨Ø³Ø·Ø©) Ù„Ù„ØªØ±ØªÙŠØ¨
            const calculateDistance = (lat1, lon1, lat2, lon2) => {
                const R = 6371; // Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„Ø£Ø±Ø¶ ÙƒÙ…
                const dLat = (lat2 - lat1) * Math.PI / 180;
                const dLon = (lon2 - lon1) * Math.PI / 180;
                const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                          Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                          Math.sin(dLon/2) * Math.sin(dLon/2);
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                return R * c; // Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±
            };

            // --- ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‚Ø±Ø¨ (GPS Sorting) ---
            const sortOrdersByLocation = () => {
                const sorted = [...orders].sort((a, b) => {
                    const distA = calculateDistance(DRIVER_CURRENT_LOCATION.lat, DRIVER_CURRENT_LOCATION.lng, a.lat, a.lng);
                    const distB = calculateDistance(DRIVER_CURRENT_LOCATION.lat, DRIVER_CURRENT_LOCATION.lng, b.lat, b.lng);
                    return distA - distB;
                });
                setOrders(sorted);
                alert("ğŸ“ ØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ! (ØªÙˆÙÙŠØ± Ø§Ù„Ø¨Ù†Ø²ÙŠÙ† âœ…)");
            };

            // --- Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ---
            const handleAssignDriver = (orderId, driverName) => {
                setOrders(orders.map(order => 
                    order.id === orderId ? { ...order, driver: driverName, status: driverName ? 'assigned' : 'pending' } : order
                ));
            };

            const saveAssignments = () => {
                const count = orders.filter(o => o.status === 'assigned').length;
                alert(`âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø¨Ù†Ø¬Ø§Ø­!\nØ§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙˆØ²Ø¹Ø©: ${count}`);
            };

            // --- Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙˆØ²Ø¹ ---
            
            // 1. ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            const openContactModal = (order) => {
                setSelectedOrder(order);
                setShowContactModal(true);
            };

            // 2. ÙØªØ­ Ø§Ù„Ø®Ø±ÙŠØ·Ø© (GPS)
            const openMap = (lat, lng) => {
                // ÙØªØ­ Ø±Ø§Ø¨Ø· Ø¬ÙˆØ¬Ù„ Ù…Ø§Ø¨Ø³
                window.open(`https://www.google.com/maps/search/?api=1&query=${lat},${lng}`, '_blank');
            };

            // 3. Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ù„ÙŠÙ… (OTP)
            const requestDelivery = (order) => {
                const code = Math.floor(1000 + Math.random() * 9000);
                setGeneratedCode(code);
                setSelectedOrder(order);
                setShowOtpModal(true);
                setOtpInput("");
                
                setTimeout(() => {
                    alert(`ğŸ“¨ [SMS Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©]:\nØ¥Ù„Ù‰: ${order.customer}\n"ÙƒÙˆØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨ÙŠØªÙƒ Ù‡Ùˆ: ${code}"`);
                }, 500);
            };

            // 4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯
            const verifyCode = () => {
                if (parseInt(otpInput) === generatedCode) {
                    setOrders(orders.map(o => o.id === selectedOrder.id ? { ...o, status: 'delivered' } : o));
                    setShowOtpModal(false);
                    setShowContactModal(false); // Ø¥ØºÙ„Ø§Ù‚ Ø£ÙŠ Ù†Ø§ÙØ°Ø© Ø£Ø®Ø±Ù‰
                    alert("âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!");
                } else {
                    alert("âŒ ÙƒÙˆØ¯ Ø®Ø§Ø·Ø¦!");
                }
            };

            return (
                <div className="flex h-screen overflow-hidden bg-gray-100">
                    
                    {/* Sidebar */}
                    <aside className="w-64 bg-slate-900 text-white flex-col hidden md:flex shadow-2xl z-20">
                        <div className="p-6 text-2xl font-bold border-b border-gray-700 text-center">
                            ØªÙˆØµÙŠÙ„ <span className="text-yellow-400">Pro</span>
                        </div>
                        <nav className="flex-1 p-4 space-y-3">
                            <button onClick={() => setView('admin')} className={`w-full text-right p-4 rounded-xl flex items-center gap-3 transition ${view === 'admin' ? 'bg-blue-600 shadow-lg' : 'hover:bg-slate-800'}`}>
                                <i className="fa-solid fa-user-tie"></i> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
                            </button>
                            <button onClick={() => setView('driver')} className={`w-full text-right p-4 rounded-xl flex items-center gap-3 transition ${view === 'driver' ? 'bg-green-600 shadow-lg' : 'hover:bg-slate-800'}`}>
                                <i className="fa-solid fa-motorcycle"></i> Ø§Ù„Ù…ÙˆØ²Ø¹
                            </button>
                        </nav>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col h-screen overflow-y-auto">
                        
                        {/* Mobile Header */}
                        <div className="md:hidden bg-white p-4 shadow flex justify-between items-center sticky top-0 z-30">
                            <h1 className="font-bold text-lg">ØªÙˆØµÙŠÙ„ Pro</h1>
                            <div className="flex gap-2">
                                <button onClick={() => setView('admin')} className="px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm font-bold">Ø¥Ø¯Ø§Ø±Ø©</button>
                                <button onClick={() => setView('driver')} className="px-3 py-1 bg-green-100 text-green-700 rounded text-sm font-bold">Ù…ÙˆØ²Ø¹</button>
                            </div>
                        </div>

                        {/* === ADMIN VIEW === */}
                        {view === 'admin' && (
                            <div className="p-4 md:p-8 max-w-7xl mx-auto w-full fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold text-slate-800">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</h2>
                                    <button onClick={saveAssignments} className="bg-slate-900 text-white px-6 py-2 rounded-lg shadow hover:bg-slate-800 transition">
                                        <i className="fa-solid fa-save ml-2"></i> Ø­ÙØ¸ Ø§Ù„ØªÙˆØ²ÙŠØ¹
                                    </button>
                                </div>

                                <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hidden md:block">
                                    <table className="w-full text-right">
                                        <thead className="bg-gray-50 text-gray-600 text-sm font-bold">
                                            <tr>
                                                <th className="p-4">Ø§Ù„Ø²Ø¨ÙˆÙ†</th>
                                                <th className="p-4">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                                                <th className="p-4">Ø§Ù„Ù…Ø¨Ù„Øº</th>
                                                <th className="p-4">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                                <th className="p-4 bg-blue-50 text-blue-800">ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ÙˆØ²Ø¹</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-gray-100">
                                            {orders.map(order => (
                                                <tr key={order.id} className="hover:bg-gray-50">
                                                    <td className="p-4 font-bold">{order.customer}</td>
                                                    <td className="p-4 text-gray-500">{order.address}</td>
                                                    <td className="p-4 font-bold text-green-600">{order.price} DH</td>
                                                    <td className="p-4">
                                                        <span className={`px-2 py-1 rounded text-xs ${order.status === 'delivered' ? 'bg-green-100' : 'bg-yellow-100'}`}>
                                                            {order.status === 'delivered' ? 'Ù…ÙƒØªÙ…Ù„' : order.status === 'assigned' ? 'Ù…ÙˆØ²Ø¹' : 'Ø¬Ø¯ÙŠØ¯'}
                                                        </span>
                                                    </td>
                                                    <td className="p-4 bg-blue-50/30">
                                                        {order.status !== 'delivered' ? (
                                                            <select 
                                                                value={order.driver}
                                                                onChange={(e) => handleAssignDriver(order.id, e.target.value)}
                                                                className="bg-white border border-gray-300 rounded p-1 w-full font-bold cursor-pointer"
                                                            >
                                                                <option value="">-- Ø§Ø®ØªØ± --</option>
                                                                {driversList.map(d => <option key={d} value={d}>{d}</option>)}
                                                            </select>
                                                        ) : (
                                                            <span className="text-green-600 font-bold"><i className="fa-solid fa-check"></i> {order.driver}</span>
                                                        )}
                                                    </td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                                
                                {/* Mobile Admin Cards */}
                                <div className="md:hidden space-y-4">
                                    {orders.map(order => (
                                        <div key={order.id} className="bg-white p-4 rounded-xl shadow border border-gray-100">
                                            <div className="flex justify-between font-bold mb-2">
                                                <span>{order.customer}</span>
                                                <span className="text-green-600">{order.price} DH</span>
                                            </div>
                                            <select 
                                                value={order.driver}
                                                disabled={order.status === 'delivered'}
                                                onChange={(e) => handleAssignDriver(order.id, e.target.value)}
                                                className="w-full bg-gray-50 border p-2 rounded"
                                            >
                                                <option value="">-- Ø§Ø®ØªØ± Ù…ÙˆØ²Ø¹ --</option>
                                                {driversList.map(d => <option key={d} value={d}>{d}</option>)}
                                            </select>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* === ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…ÙˆØ²Ø¹ (Driver View) === */}
                        {view === 'driver' && (
                            <div className="p-4 md:p-8 max-w-md mx-auto w-full fade-in">
                                
                                <div className="bg-slate-800 text-white p-4 rounded-2xl mb-6 shadow-lg">
                                    <p className="text-xs text-slate-400 mb-2 text-center">-- Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…ÙˆØ²Ø¹ --</p>
                                    <div className="flex bg-slate-700 p-1 rounded-xl">
                                        {driversList.map(d => (
                                            <button key={d} onClick={() => setCurrentDriver(d)} className={`flex-1 py-2 rounded-lg text-sm font-bold transition ${currentDriver === d ? 'bg-white text-slate-900' : 'text-slate-300'}`}>
                                                {d}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold text-gray-800">Ù…Ù‡Ø§Ù…: {currentDriver}</h2>
                                    
                                    {/* Ø²Ø± Ø§Ù„ÙÙ„ØªØ±Ø© GPS */}
                                    <button 
                                        onClick={sortOrdersByLocation}
                                        className="bg-blue-100 text-blue-700 px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-1 hover:bg-blue-200 transition"
                                    >
                                        <i className="fa-solid fa-location-arrow"></i> Ø§Ù„Ø£Ù‚Ø±Ø¨ Ø¥Ù„ÙŠÙ‘
                                    </button>
                                </div>

                                <div className="space-y-4 pb-20">
                                    {orders.filter(o => o.driver === currentDriver && o.status !== 'delivered').length === 0 ? (
                                        <div className="text-center py-10 text-gray-400 border-2 border-dashed rounded-xl">Ù„Ø§ Ù…Ù‡Ø§Ù… Ø¬Ø¯ÙŠØ¯Ø©</div>
                                    ) : (
                                        orders.filter(o => o.driver === currentDriver && o.status !== 'delivered').map(order => (
                                            <div key={order.id} className="bg-white p-5 rounded-3xl shadow-lg border border-gray-100 relative overflow-hidden">
                                                
                                                {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ† */}
                                                <div className="flex justify-between items-start mb-4">
                                                    <div>
                                                        <h3 className="font-bold text-xl text-slate-800">{order.customer}</h3>
                                                        
                                                        {/* Ø²Ø± Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø®Ø±ÙŠØ·Ø© */}
                                                        <button 
                                                            onClick={() => openMap(order.lat, order.lng)}
                                                            className="text-sm text-gray-500 mt-1 flex items-center gap-1 hover:text-blue-600 transition"
                                                        >
                                                            <i className="fa-solid fa-map-location-dot text-red-500 text-lg"></i> 
                                                            <span className="underline decoration-dotted">{order.address}</span>
                                                        </button>
                                                    </div>
                                                    <div className="bg-slate-900 text-white px-3 py-1 rounded-lg font-bold shadow-md">
                                                        {order.price} DH
                                                    </div>
                                                </div>

                                                {/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */}
                                                <div className="grid grid-cols-2 gap-3 mt-6">
                                                    <button 
                                                        onClick={() => openContactModal(order)} 
                                                        className="bg-gray-100 text-slate-700 py-3 rounded-2xl font-bold hover:bg-gray-200 flex items-center justify-center gap-2 transition"
                                                    >
                                                        <i className="fa-solid fa-phone-volume"></i> Ø§ØªØµØ§Ù„
                                                    </button>
                                                    <button 
                                                        onClick={() => requestDelivery(order)} 
                                                        className="bg-green-600 text-white py-3 rounded-2xl font-bold hover:bg-green-700 shadow-lg shadow-green-200 flex items-center justify-center gap-2 transition transform active:scale-95"
                                                    >
                                                        <i className="fa-solid fa-box-open"></i> ØªØ³Ù„ÙŠÙ…
                                                    </button>
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>
                            </div>
                        )}

                    </main>

                    {/* === 1. Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Contact Modal) === */}
                    {showContactModal && selectedOrder && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end md:items-center justify-center fade-in">
                            <div className="bg-white w-full md:w-96 rounded-t-3xl md:rounded-3xl p-6 shadow-2xl">
                                <div className="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6 md:hidden"></div>
                                <h3 className="text-xl font-bold text-center mb-2">ØªÙˆØ§ØµÙ„ Ù…Ø¹ {selectedOrder.customer}</h3>
                                <p className="text-center text-gray-500 text-sm mb-6">Ø§Ø®ØªØ± ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…ÙØ¶Ù„Ø©</p>
                                
                                <div className="space-y-3">
                                    <button 
                                        onClick={() => window.open(`https://wa.me/212${selectedOrder.phone.substring(1)}`, '_blank')}
                                        className="w-full flex items-center justify-center gap-3 bg-green-500 text-white py-4 rounded-xl font-bold text-lg hover:bg-green-600 shadow-lg shadow-green-200"
                                    >
                                        <i className="fa-brands fa-whatsapp text-2xl"></i> Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨
                                    </button>
                                    
                                    <a 
                                        href={`tel:${selectedOrder.phone}`}
                                        className="w-full flex items-center justify-center gap-3 bg-blue-500 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-600 shadow-lg shadow-blue-200"
                                    >
                                        <i className="fa-solid fa-phone text-xl"></i> Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ
                                    </a>
                                </div>

                                <button onClick={() => setShowContactModal(false)} className="w-full mt-4 py-3 text-gray-500 font-bold hover:bg-gray-50 rounded-xl">
                                    Ø¥Ù„ØºØ§Ø¡
                                </button>
                            </div>
                        </div>
                    )}

                    {/* === 2. Ù†Ø§ÙØ°Ø© Ø§Ù„ÙƒÙˆØ¯ (OTP Modal) === */}
                    {showOtpModal && selectedOrder && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center p-4 fade-in">
                            <div className="bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl text-center relative overflow-hidden">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-green-500"></div>
                                
                                <div className="w-20 h-20 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl shadow-inner">
                                    <i className="fa-solid fa-shield-cat"></i>
                                </div>
                                
                                <h3 className="text-2xl font-black text-slate-800 mb-2">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</h3>
                                <p className="text-gray-500 text-sm mb-8 px-4">
                                    Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø°ÙŠ ÙˆØµÙ„ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙ Ø§Ù„Ø²Ø¨ÙˆÙ† <br/> <span className="font-bold text-slate-900">{selectedOrder.customer}</span>
                                </p>
                                
                                <input 
                                    type="number" 
                                    value={otpInput}
                                    onChange={(e) => setOtpInput(e.target.value)}
                                    placeholder="0000" 
                                    className="w-full text-center text-5xl font-black tracking-[15px] text-slate-800 border-b-4 border-gray-200 focus:border-blue-500 outline-none pb-2 mb-8 placeholder-gray-200 transition-colors"
                                    autoFocus
                                />

                                <div className="grid grid-cols-2 gap-4">
                                    <button onClick={() => setShowOtpModal(false)} className="py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200">Ø¥Ù„ØºØ§Ø¡</button>
                                    <button onClick={verifyCode} className="py-3 rounded-xl font-bold bg-slate-900 text-white hover:bg-black shadow-xl shadow-slate-300">ØªØ£ÙƒÙŠØ¯</button>
                                </div>
                                
                                <div className="mt-6 text-xs text-gray-300">Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ: {generatedCode}</div>
                            </div>
                        </div>
                    )}

                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SmartDeliveryApp />);

    </script>
</body>
</html>
